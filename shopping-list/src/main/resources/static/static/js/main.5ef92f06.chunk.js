(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,n){t.exports=n(25)},17:function(t,e,n){},19:function(t,e,n){},23:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(11),o=n.n(c),i=(n(17),n(2)),s=n(3),u=n(5),p=n(4),l=n(6),h=(n(19),n(1)),f=n.n(h),m=n(8),d=n(7),v=n(9),b=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).onClick=function(t){"function"===typeof n.props.onClick&&n.props.onClick(t)},n}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("button",{onClick:this.onClick},this.props.children)}}]),e}(r.Component),O=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(c)))).isCompleteState=function(){return"COMPLETE"===n.props.item.state},n.changeState=function(){if("function"===typeof n.props.onChange){var t=Object(v.a)({},n.props.item);n.isCompleteState()?t.state="NEW":t.state="COMPLETE",n.props.onChange(t)}},n.changeCount=function(t){if("function"===typeof n.props.onChange){var e=Object(v.a)({},n.props.item);e.count=t.target.value,n.props.onChange(e)}},n.delete=function(){"function"===typeof n.props.onDelete&&n.props.onDelete()},n.renderCompleteButton=function(){return n.isCompleteState()?a.a.createElement(b,{onClick:n.changeState},"Obnov"):a.a.createElement(b,{onClick:n.changeState},"Dokon\u010di")},n}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"todo-item"},this.props.item.content,this.renderCompleteButton(),a.a.createElement(b,{onClick:this.delete},"Smazat"),a.a.createElement("input",{type:"number",name:"quantity",value:this.props.item.count,onChange:this.changeCount,min:"1"}))}}]),e}(r.Component),g=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).onEnter=function(t){var e=t||window.event;"function"===typeof n.props.onAdd&&13===e.keyCode&&(n.props.onAdd(t.target.value),t.target.value="")},n}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"new-item"},a.a.createElement("input",{type:"text",name:"text",onKeyDown:this.onEnter}))}}]),e}(r.Component),j={sleep:function(t){return new Promise(function(e){return setTimeout(e,t)})},call:function(){var t=Object(d.a)(f.a.mark(function t(e,n,r,a){var c,o,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r&&(c=JSON.stringify(r)),t.next=3,fetch(n,{method:e,body:c,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}});case 3:return o=t.sent,t.next=6,o.json();case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r,a){return t.apply(this,arguments)}}(),getUri:function(t){return"http://localhost:8080/"+t},getShoppingList:function(){var t=Object(d.a)(f.a.mark(function t(e){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getUri("shoppingList"),t.next=3,j.call("get",n,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteShoppingItem:function(){var t=Object(d.a)(f.a.mark(function t(e){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getUri("shoppingItem"),t.next=3,j.call("delete",n,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),createShoppingItem:function(){var t=Object(d.a)(f.a.mark(function t(e){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getUri("shoppingItem"),t.next=3,j.call("post",n,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updateShoppingItem:function(){var t=Object(d.a)(f.a.mark(function t(e){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getUri("shoppingItem"),t.next=3,j.call("put",n,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},w=j,y=(n(23),function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"loader"})}}]),e}(r.Component)),E=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(u.a)(this,Object(p.a)(e).call(this,t))).renderItems=function(){return n.state.items.map(n.renderItem)},n.renderItem=function(t,e){return a.a.createElement(O,{key:t.id,item:t,onDelete:function(){n.removeItem(t,e)},onChange:function(r){n.changeItem(t,e,r)}})},n.removeItem=function(){var t=Object(d.a)(f.a.mark(function t(e,r){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(m.a)(n.state.items),t.next=3,w.deleteShoppingItem({id:e.id});case 3:a.splice(r,1),n.setState({items:a});case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),n.changeItem=function(){var t=Object(d.a)(f.a.mark(function t(e,r,a){var c,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(m.a)(n.state.items),t.next=3,w.updateShoppingItem(a);case 3:o=t.sent,c[r]=o,n.setState({items:c});case 6:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),n.addItem=function(){var t=Object(d.a)(f.a.mark(function t(e){var r,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(m.a)(n.state.items),t.next=3,w.createShoppingItem({content:e,state:"NEW",count:1,createdAt:new Date});case 3:a=t.sent,r.push(a),n.setState({items:r});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.renderChilds=function(){switch(n.state.loadingState){case"LOADING":return a.a.createElement(y,null);case"DONE":return a.a.createElement(a.a.Fragment,null,n.renderItems(),a.a.createElement(g,{onAdd:n.addItem}));case"ERROR":return a.a.createElement("div",null,"Error: ",""+n.state.error);default:return a.a.createElement("div",null,"Error")}},n.state={items:[],loadingState:"INIT"},n}return Object(l.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=Object(d.a)(f.a.mark(function t(){var e;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loadingState:"LOADING"}),t.prev=1,t.next=4,w.getShoppingList();case 4:e=t.sent,this.setState({items:e,loadingState:"DONE"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.setState({error:t.t0,loadingState:"ERROR"});case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"todo-list"},this.renderChilds())}}]),e}(r.Component),C=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(E,null))}}]),e}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.5ef92f06.chunk.js.map